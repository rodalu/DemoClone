name: GraphQuery

on:
   workflow_dispatch:
   push: 
     branches: [ main ]

jobs:
  check_api:
    runs-on: ubuntu-latest
    steps:     
         - uses: actions/checkout@v2
         - name: Github OctoCat
           run: echo Testing one liner    
              curl --request GET \
              -- url "https://api.github.com/octocat" \
              
         
         - name: Current Price Json BPI
           run: |   
             curl --request GET \
             -H "Content-type: application/json" \
             -H "Accept: application/json" \
             -- url "https://api.coindesk.com/v1/bpi/currentprice.json" \  
             -- header "Accept: application/vnd.github+json" \


    
  check_graphql:
    runs-on: ubuntu-latest
    steps:  
         - uses: actions/checkout@v2  
         
         - name: Load files
           uses: ./
           id: yamlfile
           with:
              path: api.github.com/repos/sample/repository-static.query.yaml

         - name: graphql read files
           run: |
            curl --request GET \
            --url "https://api.github.com/repos/democlone" \
            --header "Accept: application/vnd.github+json" \
            --header "Authorization: Bearer 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"

         

   
   