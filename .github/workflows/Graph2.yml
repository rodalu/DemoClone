
name: GraphQLAPI

on:
  workflow_dispatch:
  push: 
     branches: [ main ]
 
jobs:
  build:
    runs-on: ubuntu-latest

    steps:
  
    - uses: actions/checkout@v2
  
          
   
    - name: Run a one-line script and path
      run: echo Testing one liner    
 
   
    # - name: Install graphQL
    - name: Query Schema
      run: |
         npm install graphql-http
         curl -i --header "${{ secrets.GITHUB_TOKEN }}" https://api.github.com/user
         echo "/HolismHolding/Commands" >> $GITHUB_PATH
          -- push\
          -- graph=Stream-Helpers\     
          -- key=${{ secrets.GITHUB_TOKEN }}\      
          -- variant=current \
          #-- content-filepath: ./schema/schema.grapql
          #-- localSchemaFile=./schema/schema.graphql
          #  echo "$HOME/.local/bin" >> $GITHUB_PATH
          #  echo $ /usr/bin/env bash
           

         

    - name: Test URL
      run : |
         curl -i --header "${{ secrets.GITHUB_TOKEN }}" https://api.github.com/user